
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>cf.Data.todict &#8212; Documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/customise-alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/toggleprompt.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cf.Data.to_dask_array" href="cf.Data.to_dask_array.html" />
    <link rel="prev" title="cf.Data.chunk_indices" href="cf.Data.chunk_indices.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo"/>
            </a></p>



<h1 class="logo"><a href="../index.html">cf 3.17.0</a></h1>



<p class="blurb">A CF-compliant earth science data analysis library</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=NCAS-CMS&repo=cf-python&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html"><strong>Introduction</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html"><strong>Installation</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../cheat_sheet.html"><strong>Cheat Sheet</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/index.html"><strong>Recipes using cf</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html"><strong>Tutorial</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api_reference.html"><strong>API reference</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../aggregation_rules.html"><strong>Aggregation rules</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html"><strong>Performance</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html"><strong>Releases</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html"><strong>Change log</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html"><strong>Contributing</strong></a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api_reference.html"><strong>API reference</strong></a><ul>
  <li><a href="../class.html"><strong>cf classes</strong></a><ul>
  <li><a href="../class/cf.Data.html">cf.Data</a><ul>
      <li>Previous: <a href="cf.Data.chunk_indices.html" title="previous chapter">cf.Data.chunk_indices</a></li>
      <li>Next: <a href="cf.Data.to_dask_array.html" title="next chapter">cf.Data.to_dask_array</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>

<br>
cf development has been supported by
the <a href="https://erc.europa.eu/">ERC</a>
through <a href="https://cordis.europa.eu/project/id/247220">Seachange</a>
and
<a href="https://cordis.europa.eu/project/id/786427">Couplet</a>; by
the <a href="https://ec.europa.eu/programmes/horizon2020/">EC Horizon
2020 programme</a> through
<a href="https://cordis.europa.eu/project/id/824084">IS-ENES3</a>;
by <a href="https://nerc.ukri.org/">NERC</a> through
<a href="https://gtr.ukri.org/project/0D95A6DB-0B95-48F7-8A8B-7B9A47DEA117">UKFAFMIP</a>;
and by <a href="https://ncas.ac.uk/">NCAS</a>.
<br>
<br>
<img src="../_templates/logo_EC.png" height="40">
<img src="../_templates/logo_ERC.png" height="40">
<img src="../_templates/logo_NERC.png" height="40">
<br>
<img src="../_templates/logo_NCAS.png" height="40">
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="cf-data-todict">
<h1>cf.Data.todict<a class="headerlink" href="#cf-data-todict" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="cf.Data.todict">
<code class="sig-prename descclassname">Data.</code><code class="sig-name descname">todict</code><span class="sig-paren">(</span><em class="sig-param">graph='cull'</em>, <em class="sig-param">_force_mask_hardness=True</em>, <em class="sig-param">_force_to_memory=True</em>, <em class="sig-param">optimize_graph=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NCAS-CMS/cfdm/blob/v1.12.1.0/cfdm/data/data.py#L6941-L7047"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cf.Data.todict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of the dask graph key/value pairs.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version (cfdm): </span>1.11.2.0</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="cf.Data.cull_graph.html#cf.Data.cull_graph" title="cf.Data.cull_graph"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cull_graph</span></code></a>, <a class="reference internal" href="cf.Data.to_dask_array.html#cf.Data.to_dask_array" title="cf.Data.to_dask_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_dask_array</span></code></a></p>
</div>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt>graph: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></dt><dd><p>Specify the treatment to apply to the graph (not
in-place) before converting to a dictionary. Must be
one of:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'cull'</span></code></p>
<p>This is the default. Remove unnecessary tasks which
do not contribute to the computed result, equivalent
to applying <a class="reference external" href="https://docs.dask.org/en/latest/optimize.html#dask.optimization.cull" title="(in Dask)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dask.optimization.cull</span></code></a> to the graph.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'optimise'</span></code></p>
<p>Apply all possible graph optimisations. These will
include removal of unnecessary tasks (see <code class="docutils literal notranslate"><span class="pre">'cull'</span></code>),
and is equivalent to applying <a class="reference external" href="https://docs.dask.org/en/latest/api.html#dask.optimize" title="(in Dask)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dask.optimize</span></code></a> to the
graph.</p>
</li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
<p>Do not apply any optimisations.</p>
</li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">New in version (cfdm): </span>1.12.0.0</p>
</div>
</dd>
<dt>_force_mask_hardness: <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</dt><dd><p>If True (the default) then force the mask hardness of
the returned Dask graph to be that given by the
<a class="reference internal" href="../attribute/cf.Data.hardmask.html#cf.Data.hardmask" title="cf.Data.hardmask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hardmask</span></code></a> attribute. If False then the mask hardness
may or may not be correct, depending on the nature of
the stack of previously defined lazy operations.</p>
<p>Set to False if the intention is to just inspect the
state of the Dask graph, or is to add to the returned
Dask graph further operations to which can correctly
manage the mask hardness.</p>
</dd>
<dt>_force_to_memory: <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</dt><dd><p>If True (the default) then force the data resulting
from computing the returned Dask graph to be in
memory. If False then the data resulting from
computing the Dask graph may or may not be in memory,
depending on the nature of the stack of previously
defined lazy operations.</p>
<p>Set to False if the intention is to just inspect the
state of the Dask graph, or is to add to the returned
Dask graph further operations to which can handle any
required conversion to data in memory.</p>
</dd>
<dt>optimize_graph: Deprecated at version 1.12.0.0</dt><dd><p>Use the <em>graph</em> parameter instead. Note that
<code class="docutils literal notranslate"><span class="pre">graph='optimise'</span></code> is equivalent to the deprecated
<code class="docutils literal notranslate"><span class="pre">optimize_graph=True</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></dt><dd><p>The dictionary of the dask graph’s key/value pairs.</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Examples</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">Data</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">chunks</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">todict</span><span class="p">()</span>
<span class="go">{(&#39;array-58934a19a81f97038351581dea42e32f&#39;, 0): array([1, 2]),</span>
<span class="go"> (&#39;array-58934a19a81f97038351581dea42e32f&#39;, 1): array([3, 4]),</span>
<span class="go"> (&#39;cfdm_harden_mask-23375a35009f4d3ec84b767640370152&#39;,</span>
<span class="go">  0): &lt;Task (&#39;cfdm_harden_mask-23375a35009f4d3ec84b767640370152&#39;, 0) cfdm_harden_mask(...)&gt;,</span>
<span class="go"> (&#39;cfdm_harden_mask-23375a35009f4d3ec84b767640370152&#39;,</span>
<span class="go">  1): &lt;Task (&#39;cfdm_harden_mask-23375a35009f4d3ec84b767640370152&#39;, 1) cfdm_harden_mask(...)&gt;}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">todict</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">{(&#39;array-58934a19a81f97038351581dea42e32f&#39;, 0): array([1, 2]),</span>
<span class="go"> (&#39;array-58934a19a81f97038351581dea42e32f&#39;, 1): array([3, 4]),</span>
<span class="go"> (&#39;getitem-4d1949dc1e18d336e215bc226cd7b109&#39;,</span>
<span class="go">  0): &lt;Task (&#39;getitem-4d1949dc1e18d336e215bc226cd7b109&#39;, 0) getitem(...)&gt;,</span>
<span class="go"> (&#39;cfdm_harden_mask-b57a3694b00d301421b9fc21db4cf24e&#39;,</span>
<span class="go">  0): &lt;Task (&#39;cfdm_harden_mask-b57a3694b00d301421b9fc21db4cf24e&#39;, 0) cfdm_harden_mask(...)&gt;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">todict</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="s1">&#39;cull&#39;</span><span class="p">)</span>
<span class="go">{(&#39;getitem-4d1949dc1e18d336e215bc226cd7b109&#39;,</span>
<span class="go">  0): &lt;Task (&#39;getitem-4d1949dc1e18d336e215bc226cd7b109&#39;, 0) getitem(...)&gt;,</span>
<span class="go"> (&#39;array-58934a19a81f97038351581dea42e32f&#39;, 0): array([1, 2]),</span>
<span class="go"> (&#39;cfdm_harden_mask-b57a3694b00d301421b9fc21db4cf24e&#39;,</span>
<span class="go">  0): &lt;Task (&#39;cfdm_harden_mask-b57a3694b00d301421b9fc21db4cf24e&#39;, 0) cfdm_harden_mask(...)&gt;}</span>
</pre></div>
</div>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2025, NCAS | Page built on 2025-04-02.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>