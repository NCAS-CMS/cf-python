
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>cf.configuration &#8212; Documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/customise-alabaster.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/toggleprompt.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cf.chunksize" href="cf.chunksize.html" />
    <link rel="prev" title="cf.s" href="cf.s.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">



<h1 class="logo"><a href="../index.html">cf 3.7.0</a></h1>



<p class="blurb">A CF-compliant earth science data analysis library</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=NCAS-CMS&repo=cf-python&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html"><strong>Introduction</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../cf_data_model.html"><strong>CF data model</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html"><strong>Installation</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html"><strong>Contributing</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html"><strong>Tutorial</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis.html"><strong>Analysis</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api_reference.html"><strong>API reference</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../aggregation_rules.html"><strong>Aggregation rules</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html"><strong>Performance</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html"><strong>Releases</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html"><strong>Change log</strong></a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api_reference.html"><strong>API reference</strong></a><ul>
  <li><a href="../function.html"><strong>cf functions</strong></a><ul>
      <li>Previous: <a href="cf.s.html" title="previous chapter">cf.s</a></li>
      <li>Next: <a href="cf.chunksize.html" title="next chapter">cf.chunksize</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="cf-configuration">
<h1>cf.configuration<a class="headerlink" href="#cf-configuration" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="cf.configuration">
<code class="sig-prename descclassname">cf.</code><code class="sig-name descname">configuration</code><span class="sig-paren">(</span><em class="sig-param">atol=None</em>, <em class="sig-param">rtol=None</em>, <em class="sig-param">tempdir=None</em>, <em class="sig-param">of_fraction=None</em>, <em class="sig-param">chunksize=None</em>, <em class="sig-param">collapse_parallel_mode=None</em>, <em class="sig-param">free_memory_factor=None</em>, <em class="sig-param">log_level=None</em>, <em class="sig-param">regrid_logging=None</em>, <em class="sig-param">relaxed_identities=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NCAS-CMS/cf-python/blob/v3.7.0/cf/functions.py#L180-L363"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cf.configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>View or set any number of constants in the project-wide configuration.</p>
<p>The full list of global constants that can be set in any combination
are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="cf.atol.html#cf.atol" title="cf.atol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">atol</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.rtol.html#cf.rtol" title="cf.rtol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rtol</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.tempdir.html#cf.tempdir" title="cf.tempdir"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tempdir</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.of_fraction.html#cf.of_fraction" title="cf.of_fraction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">of_fraction</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.chunksize.html#cf.chunksize" title="cf.chunksize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">chunksize</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.collapse_parallel_mode.html#cf.collapse_parallel_mode" title="cf.collapse_parallel_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collapse_parallel_mode</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.free_memory_factor.html#cf.free_memory_factor" title="cf.free_memory_factor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_memory_factor</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.log_level.html#cf.log_level" title="cf.log_level"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log_level</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.regrid_logging.html#cf.regrid_logging" title="cf.regrid_logging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regrid_logging</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.relaxed_identities.html#cf.relaxed_identities" title="cf.relaxed_identities"><code class="xref py py-obj docutils literal notranslate"><span class="pre">relaxed_identities</span></code></a></p></li>
</ul>
<p>The following settings are also included in the dictionary that is
returned to view, but they are fixed by external factors so cannot
be set, hence there are no corresponding parameters:</p>
<ul class="simple">
<li><p><a class="reference internal" href="cf.total_memory.html#cf.total_memory" title="cf.total_memory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_memory</span></code></a></p></li>
<li><p><a class="reference internal" href="cf.fm_threshold.html#cf.fm_threshold" title="cf.fm_threshold"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fm_threshold</span></code></a></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">min_total_memory</span></code></p></li>
</ul>
<p>These are all constants that apply throughout <code class="xref py py-obj docutils literal notranslate"><span class="pre">cf</span></code>, except for in
specific functions only if overriden by the corresponding keyword
argument to that function.</p>
<p>The value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, either taken by default or supplied as a value,
will result in the constant in question not being changed from the
current value. That is, it will have no effect.</p>
<p>Note that setting a constant using this function is equivalent to setting
it by means of a specific function of the same name, e.g. via <a class="reference internal" href="cf.atol.html#cf.atol" title="cf.atol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cf.atol</span></code></a>,
but in this case multiple constants can be set at once.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.6.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="cf.atol.html#cf.atol" title="cf.atol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">atol</span></code></a>, <a class="reference internal" href="cf.rtol.html#cf.rtol" title="cf.rtol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rtol</span></code></a>, <a class="reference internal" href="cf.tempdir.html#cf.tempdir" title="cf.tempdir"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tempdir</span></code></a>, <a class="reference internal" href="cf.of_fraction.html#cf.of_fraction" title="cf.of_fraction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">of_fraction</span></code></a>, <a class="reference internal" href="cf.chunksize.html#cf.chunksize" title="cf.chunksize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">chunksize</span></code></a>,
<a class="reference internal" href="cf.collapse_parallel_mode.html#cf.collapse_parallel_mode" title="cf.collapse_parallel_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collapse_parallel_mode</span></code></a>, <a class="reference internal" href="cf.total_memory.html#cf.total_memory" title="cf.total_memory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_memory</span></code></a>,
<a class="reference internal" href="cf.free_memory_factor.html#cf.free_memory_factor" title="cf.free_memory_factor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_memory_factor</span></code></a>, <a class="reference internal" href="cf.fm_threshold.html#cf.fm_threshold" title="cf.fm_threshold"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fm_threshold</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">min_total_memory</span></code>,
<a class="reference internal" href="cf.log_level.html#cf.log_level" title="cf.log_level"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log_level</span></code></a>, <a class="reference internal" href="cf.regrid_logging.html#cf.regrid_logging" title="cf.regrid_logging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regrid_logging</span></code></a>, <a class="reference internal" href="cf.relaxed_identities.html#cf.relaxed_identities" title="cf.relaxed_identities"><code class="xref py py-obj docutils literal notranslate"><span class="pre">relaxed_identities</span></code></a></p>
</div>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt>atol: <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, optional</dt><dd><p>The new value of absolute tolerance. The default is to not
change the current value.</p>
</dd>
<dt>rtol: <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, optional</dt><dd><p>The new value of relative tolerance. The default is to not
change the current value.</p>
</dd>
<dt>tempdir: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional</dt><dd><p>The new directory for temporary files. Tilde expansion (an
initial component of <code class="docutils literal notranslate"><span class="pre">~</span></code> or <code class="docutils literal notranslate"><span class="pre">~user</span></code> is replaced by
that <em>user</em>’s home directory) and environment variable
expansion (substrings of the form <code class="docutils literal notranslate"><span class="pre">$name</span></code> or <code class="docutils literal notranslate"><span class="pre">${name}</span></code>
are replaced by the value of environment variable <em>name</em>)
are applied to the new directory name.</p>
<p>The default is to not change the directory.</p>
</dd>
<dt>of_fraction: <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, optional</dt><dd><p>The new fraction (between 0.0 and 1.0). The default is to
not change the current behaviour.</p>
</dd>
<dt>chunksize: <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, optional</dt><dd><p>The new chunksize in bytes. The default is to not change
the current behaviour.</p>
</dd>
<dt>collapse_parallel_mode: <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional</dt><dd><p>The new value (0, 1 or 2).</p>
</dd>
<dt>free_memory_factor: <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a></dt><dd><p>The new value of the fraction of memory kept free as a
temporary workspace. The default is to not change the
current behaviour.</p>
</dd>
<dt>log_level: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional</dt><dd><p>The new value of the minimal log severity level. This can
be specified either as a string equal (ignoring case) to
the named set of log levels or identifier ‘DISABLE’, or an
integer code corresponding to each of these, namely:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'DISABLE'</span></code> (<code class="docutils literal notranslate"><span class="pre">0</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'WARNING'</span></code> (<code class="docutils literal notranslate"><span class="pre">1</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'INFO'</span></code> (<code class="docutils literal notranslate"><span class="pre">2</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'DETAIL'</span></code> (<code class="docutils literal notranslate"><span class="pre">3</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'DEBUG'</span></code> (<code class="docutils literal notranslate"><span class="pre">-1</span></code>).</p></li>
</ul>
</dd>
<dt>regrid_logging: <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</dt><dd><p>The new value (either <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> to enable logging or <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>
to disable it). The default is to not change the current
behaviour.</p>
</dd>
<dt><a class="reference internal" href="cf.relaxed_identities.html#cf.relaxed_identities" title="cf.relaxed_identities"><code class="xref py py-obj docutils literal notranslate"><span class="pre">relaxed_identities</span></code></a>: <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</dt><dd><p>The new value; if <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, use ‘relaxed’ mode when getting a
construct identity. The default is to not change the current
value.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></dt><dd><p>The names and values of the project-wide constants prior to the
change, or the current names and values if no new values are
specified.</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Examples:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">configuration</span><span class="p">()</span>  <span class="c1"># view full global configuration of constants</span>
<span class="go">{&#39;rtol&#39;: 2.220446049250313e-16,</span>
<span class="go"> &#39;atol&#39;: 2.220446049250313e-16,</span>
<span class="go"> &#39;tempdir&#39;: &#39;/tmp&#39;,</span>
<span class="go"> &#39;of_fraction&#39;: 0.5,</span>
<span class="go"> &#39;total_memory&#39;: 8287346688.0,</span>
<span class="go"> &#39;free_memory_factor&#39;: 0.1,</span>
<span class="go"> &#39;regrid_logging&#39;: False,</span>
<span class="go"> &#39;collapse_parallel_mode&#39;: 0,</span>
<span class="go"> &#39;relaxed_identities&#39;: False,</span>
<span class="go"> &#39;log_level&#39;: &#39;WARNING&#39;,</span>
<span class="go"> &#39;fm_threshold&#39;: 828734668.8000001,</span>
<span class="go"> &#39;min_total_memory&#39;: 8287346688.0,</span>
<span class="go"> &#39;chunksize&#39;: 82873466.88000001}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">chunksize</span><span class="p">(</span><span class="mf">7.5e7</span><span class="p">)</span>  <span class="c1"># any change to one constant...</span>
<span class="go">82873466.88000001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">configuration</span><span class="p">()[</span><span class="s1">&#39;chunksize&#39;</span><span class="p">]</span>  <span class="c1"># ...is reflected in the configuration</span>
<span class="go">75000000.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">configuration</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">of_fraction</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">tempdir</span><span class="o">=</span><span class="s1">&#39;/usr/tmp&#39;</span><span class="p">,</span> <span class="n">log_level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>  <span class="c1"># set items</span>
<span class="go">{&#39;rtol&#39;: 2.220446049250313e-16,</span>
<span class="go"> &#39;atol&#39;: 2.220446049250313e-16,</span>
<span class="go"> &#39;tempdir&#39;: &#39;/tmp&#39;,</span>
<span class="go"> &#39;of_fraction&#39;: 0.5,</span>
<span class="go"> &#39;total_memory&#39;: 8287346688.0,</span>
<span class="go"> &#39;free_memory_factor&#39;: 0.1,</span>
<span class="go"> &#39;regrid_logging&#39;: False,</span>
<span class="go"> &#39;collapse_parallel_mode&#39;: 0,</span>
<span class="go"> &#39;relaxed_identities&#39;: False,</span>
<span class="go"> &#39;log_level&#39;: &#39;WARNING&#39;,</span>
<span class="go"> &#39;fm_threshold&#39;: 828734668.8000001,</span>
<span class="go"> &#39;min_total_memory&#39;: 8287346688.0,</span>
<span class="go"> &#39;chunksize&#39;: 75000000.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">configuration</span><span class="p">()</span>  <span class="c1"># the items set have been updated accordingly</span>
<span class="go">{&#39;rtol&#39;: 2.220446049250313e-16,</span>
<span class="go"> &#39;atol&#39;: 2.220446049250313e-16,</span>
<span class="go"> &#39;tempdir&#39;: &#39;/usr/tmp&#39;,</span>
<span class="go"> &#39;of_fraction&#39;: 0.7,</span>
<span class="go"> &#39;total_memory&#39;: 8287346688.0,</span>
<span class="go"> &#39;free_memory_factor&#39;: 0.1,</span>
<span class="go"> &#39;regrid_logging&#39;: False,</span>
<span class="go"> &#39;collapse_parallel_mode&#39;: 0,</span>
<span class="go"> &#39;relaxed_identities&#39;: False,</span>
<span class="go"> &#39;log_level&#39;: &#39;INFO&#39;,</span>
<span class="go"> &#39;fm_threshold&#39;: 828734668.8000001,</span>
<span class="go"> &#39;min_total_memory&#39;: 8287346688.0,</span>
<span class="go"> &#39;chunksize&#39;: 75000000.0}</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2020, NCAS | Page built on 2020-10-15.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>